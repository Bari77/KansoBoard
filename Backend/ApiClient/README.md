# KansoBoard.ApiClient

Official .NET client for consuming the **KansoBoard** API from external applications (Discord bots, workers, backend services, console applications, etc.).

This package provides:

- a **unified HTTP client**
- **domain-typed APIs** (Boards, Columns, Cards, etc.)
- **standard DI integration**
- **API key authentication** compatible with the backend middleware

---

## âœ¨ Features

- âœ… A single shared `HttpClient`
- âœ… Business-oriented API (no raw HTTP)
- âœ… `HttpClientFactory` compatible
- âœ… **ApiKey** authentication
- âœ… Typed DTOs/Requests
- âœ… NuGet/versioning ready

---

## ğŸ“¦ Installation

```bash
dotnet add package KansoBoard.ApiClient
```

---

## âš™ï¸ Configuration

### Registering in the DI

```csharp
services.AddKansoBoardApiClient(o =>
{
    o.BaseUrl = "https://api.kansoboard.io/";
    o.ApiKey = "kanso_xxxxxxxxxxxxxxxxx";
});

```

> The API key is automatically injected into each request via the header:

```
Authorization: ApiKey <your-key>
```

---

## ğŸ§© API available

The main client exposes sub-APIs per domain:

```csharp
IKansoBoardApiClient
â”œâ”€â”€ Boards
â”œâ”€â”€ Columns
â””â”€â”€ Cards
```

---

## ğŸ“˜ Example: Boards

```csharp
var boards = await api.Boards.GetByProjectAsync(projectId);
```

```csharp
var board = await api.Boards.CreateAsync(new CreateBoardRequest(
    projectId,
    â€œMy new boardâ€
));
```

---

## ğŸ“— Example: Columns

```csharp
var column = await api.Columns.CreateAsync(new CreateColumnRequest(
    boardId,
    "Todo",
    position: 1
));

```

---

## ğŸ“™ Example: Cards

```csharp
var card = await api.Cards.CreateAsync(new CreateCardRequest(
    columnId,
    "My first card",
    "Optional description"
));

```

---

## ğŸ” Authentication

Authentication relies on an **API key** generated by the user.

On the backend, the key is validated by a dedicated middleware and automatically associated with the project (`ApiProjectId`).

---

## ğŸ§  Design & Architecture

- No dependency on the backend's `Application` layer
- HTTP contracts are explicitly exposed via DTOs
- The client contains **no business logic**
- Easily testable (mock of `IKansoBoardApiClient`)

---

## ğŸ“„ License

MIT